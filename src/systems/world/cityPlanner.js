export function createCityClassifier({ blockSize=16, roadWidth=4, radius=220, noBuildZones=[] }={}){ const roadHalf=roadWidth/2; function inNB(x,z){ for(const nb of noBuildZones){ const dx=x-nb.x, dz=z-nb.z; if(Math.hypot(dx,dz)<=nb.r) return true; } return false; } return function classify(x,z){ const r=Math.hypot(x,z); if(r>radius) return "outside"; if(inNB(x,z)) return "no-build"; const mx=((x%blockSize)+blockSize)%blockSize; const mz=((z%blockSize)+blockSize)%blockSize; const dx=Math.min(mx,blockSize-mx); const dz=Math.min(mz,blockSize-mz); if(dx<=roadHalf||dz<=roadHalf) return "road"; return "buildable"; }; }
