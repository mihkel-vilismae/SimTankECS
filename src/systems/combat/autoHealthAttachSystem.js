export function autoHealthAttachSystem(dt, world, registry){ if(world._healthAttachedOnce) return; const ents=registry.query?registry.query(["Transform"]):[]; for(const e of ents){ const has=!!registry.getComponent(e,"Health"); if(has) continue; const isBuilding=!!registry.getComponent(e,"Building"); const isVehicle=!!registry.getComponent(e,"Vehicle")||!!registry.getComponent(e,"Gun")||!!registry.getComponent(e,"Turret"); if(isBuilding||isVehicle){ const max=isBuilding?300:200; registry.addComponent(e,"Health",{ max, hp:max }); } } world._healthAttachedOnce=true; }
